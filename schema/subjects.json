{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "array",
  "minItems": 1,
  "maxItems": 28,
  "items": [
    {
      "type": "object",
      "properties": {
        "subject_id": {
          "type": "string",
          "description": "Unique identifier for the subject. This should be a unique identifier for the subject within the dataset.",
          "pattern": "^(pop-)?sub-[A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])?$"
        },
        "pool_id": {
          "type": "string",
          "description": "Unique identifier for the pool associated with the subject. This should be a unique identifier for the pool within the dataset."
        },
        "subject_experimental_group": {
          "type": "string",
          "description": "Experimental group associated with the subject. This should provide information about the experimental conditions or treatment groups to which the subject belongs."
        },
        "age": {
          "type": "string",
          "description": "Age of the subject. This should be a numeric value representing the age of the subject at the time of data collection."
        },
        "sex": {
          "type": "string",
          "description": "Sex of the subject. Can be represented as freetext or a CURIE or IRI from a standard ontology such as PATO."
        },
        "species": {
          "type": "string",
          "description": "Species of the subject. This should be the scientific name of the species. For example CURIE or IRI from NCBI taxonomy or something free form."
        },
        "strain": {
          "type": "string",
          "description": "Strain of the subject. This should provide information about the genetic background of the subject."
        },
        "rrid_for_strain": {
          "type": "string",
          "description": "RRID for strain. This should be a unique identifier for the strain in the Research Resource Identifier (RRID) database.",
          "anyOf": [
            {
              "pattern": "^RRID:[A-Z]+_[0-9]+$"
            },
            {
              "pattern": "^RRID:([A-Z]+):([A-Za-z0-9_:-]+)$"
            },
            {
              "pattern": "^RRID:[A-Za-z]+\\S*[_:]\\S*$"
            }
          ]
        },
        "age_category": {
          "type": "string",
          "description": "Age category of the subject. This should provide information about the age range of the subject."
        },
        "also_in_dataset": {
          "type": "string",
          "description": "Indicates if the subject is also part of another dataset. Should be a DOI or https link to another dataset or an other identifier."
        },
        "member_of": {
          "type": "string",
          "description": "Indicates the group or pool the subject is a member of."
        },
        "metadata_only": {
          "type": "string",
          "description": "Indicates if this entry is metadata only."
        },
        "number_of_directly_derived_samples": {
          "type": "string",
          "description": "Number of samples directly derived from this sample."
        },
        "laboratory_internal_id": {
          "type": "string",
          "description": "Internal identifier used by the laboratory for the subject."
        },
        "date_of_birth": {
          "type": "string",
          "description": "Date of birth of the subject."
        },
        "age_range_min": {
          "type": "string",
          "description": "Minimum age range of the subject."
        },
        "age_range_max": {
          "type": "string",
          "description": "Maximum age range of the subject."
        },
        "body_mass": {
          "oneOf": [
            {
              "type": "string",
              "description": "Body mass of the subject."
            },
            {
              "type": "number",
              "description": "Body mass of the subject."
            },
            {
              "type": "object",
              "properties": {
                "type": { "type": "string" },
                "value": { "type": "number" },
                "unit": { "type": "string" }
              }
            }
          ]
        },
        "genotype": {
          "type": "string",
          "description": "Genotype of the subject."
        },
        "phenotype": {
          "type": "string",
          "description": "Phenotype of the subject."
        },
        "handedness": {
          "type": "string",
          "description": "Handedness of the subject."
        },
        "reference_atlas": {
          "type": "string",
          "description": "Reference atlas used for the subject."
        },
        "experimental_log_file_path": {
          "type": "string",
          "description": "Path to the experimental log file for the subject."
        },
        "experiment_date": {
          "type": "string",
          "description": "Date of the experiment involving the subject."
        },
        "disease": {
          "type": "string",
          "description": "Disease or disorder associated with the subject."
        },
        "intervention": {
          "type": "string",
          "description": "Intervention applied to the subject."
        },
        "disease_model": {
          "type": "string",
          "description": "Disease model associated with the subject."
        },
        "protocol_title": {
          "type": "string",
          "description": "Title of the protocol used for the subject."
        },
        "protocol_url_or_doi": {
          "type": "string",
          "description": "URL or DOI of the protocol used for the subject.",
          "anyOf": [
            { "pattern": "^$" },
            {
              "pattern": "^https://[A-Za-z0-9.-]+[A-Za-z0-9](:[0-9]+)?(/.*)?$"
            },
            { "pattern": "^10\\.\\d{4,9}/[-._;()/:A-Za-z0-9]+$" },
            {
              "pattern": "^https://doi\\.org/10\\.\\d{4,9}/[-._;()/:A-Za-z0-9]+$"
            }
          ]
        }
      },
      "required": ["subject_id", "species"],
      "additionalProperties": {
        "type": "string",
        "description": "Additional properties for the subject. This can include any other relevant information about the subject that is not covered by the predefined fields."
      }
    }
  ]
}
