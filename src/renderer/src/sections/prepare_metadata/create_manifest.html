<!doctype html>

<section
  id="create_manifest-section"
  class="section js-section u-category-windows"
  style="padding-left: 5px; overflow-y: hidden; margin-left: -25px"
>
  <!-- <header class="section-header">
    <div class="container-tab-information-header">
      <div style="width: 100%; border-bottom: 3px solid #b80d49; margin-bottom: -5px">
        <div class="need-help-div">
          <h2>Prepare Metadata - Create manifest.xlsx</h2>
          <a
            target="_blank"
            href="https://docs.sodaforsparc.io/docs/Freeform%20Mode/prepare-metadata/create-manifest-files"
            >Need help?</a
          >
        </div>
      </div>
    </div>
  </header> -->

  <!-- <div
    class="main-tabs show"
    id="create_manifest-tab"
    style="
      height: calc(100% - 143px);
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      margin-left: -70px;
    "
  > -->
  <!-- <div class="individual-question prepare-manifest show" id="Question-prepare-manifest-1">
      <div class="ui form" style="width: 100%">
        <div class="grouped fields">
          <div
            style="
              border-radius: 0.5rem;
              margin-top: 7px;
              display: flex;
              flex-direction: column;
              align-items: center;
              width: 550px;
              margin-bottom: 20px;
              align-self: center;
            "
          >
            <label
              style="
                font-size: 17px;
                font-weight: 700;
                color: var(--color-bg-plum) !important;
                margin-bottom: 10px;
              "
              >About</label
            >
            <p style="color: dimgray; text-align: justify">
              The SPARC guidelines require all datasets to include metadata files called manifest
              files. One manifest file must be included in each high level folder. Manifest files
              are intended to contain information about all of the data files in its high level
              folder. You can request SODA to generate manifest files automatically for you.
            </p>
          </div>
          <label style="font-size: 17px; color: var(--color-bg-plum); text-align: center"
            >For which of the below do you want to create manifest.xlsx files?
            <br />
            <p class="sub-text">Please select one:</p></label
          >

          <div style="display: flex; flex-direction: row; justify-content: center">
            <div style="margin: 15px 0">
              <div
                class="option-card radio-button"
                data-next="Question-prepare-manifest-2"
                data-current="Question-prepare-manifest-1"
                onclick="window.transitionFreeFormMode(this, 'Question-prepare-manifest-1', 'create_manifest-tab', '', 'prepare-manifest')"
              >
                <div class="card-head">
                  <div class="folder-checkbox">
                    <input
                      class="folder-input-check"
                      name="generate-manifest-1"
                      id="generate-manifest-from-local"
                      type="radio"
                    />
                    <label for="generate-manifest-from-local"></label>
                  </div>
                </div>
                <div class="card-body">
                  <svg
                    width="40px"
                    height="40px"
                    viewBox="0 0 16 16"
                    class="bi bi-laptop"
                    fill="var(--color-bg-plum)"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M13.5 3h-11a.5.5 0 0 0-.5.5V11h12V3.5a.5.5 0 0 0-.5-.5zm-11-1A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11z"
                    />
                    <path d="M0 12h16v.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5V12z" />
                  </svg>
                  <h2>A local dataset on my computer</h2>
                </div>
              </div>
            </div>

            <div style="margin: 15px 0">
              <div
                id="pennsieve-option-create-manifest"
                class="option-card radio-button"
                data-next="Question-prepare-manifest-3"
                data-current="Question-prepare-manifest-1"
                onclick="window.transitionFreeFormMode(this, 'Question-prepare-manifest-1', 'create_manifest-tab', '', 'prepare-manifest')"
              >
                <div class="card-head">
                  <div class="folder-checkbox">
                    <input
                      class="folder-input-check"
                      name="generate-manifest-1"
                      id="generate-manifest-from-Penn"
                      type="radio"
                    />
                    <label for="generate-manifest-from-Penn"></label>
                  </div>
                </div>
                <div class="card-body">
                  <svg
                    width="50px"
                    height="50px"
                    viewBox="0 0 16 16"
                    class="bi bi-cloud-arrow-up"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"
                      fill="#565E6B"
                    />
                    <path
                      fill-rule="evenodd"
                      d="M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2z"
                      fill="#B80D49"
                    />
                  </svg>
                  <h2 style="margin-top: 15px">An existing dataset from Pennsieve</h2>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="individual-question prepare-manifest" id="Question-prepare-manifest-2">
      <div class="ui form" style="width: 450px">
        <div class="grouped fields">
          <label style="font-size: 17px; color: var(--color-bg-plum); text-align: center"
            >Where is the local dataset located at?</label
          >
          <div class="field" style="margin: 15px auto; display: flex; justify-content: center">
            <input
              class="form-control"
              style="width: 450px !important"
              onclick="window.showLocalDatasetManifest()"
              id="input-manifest-local-folder-dataset"
              type="text"
              readonly
              placeholder="Browse here"
            />
          </div>
        </div>
        <div
          id="div-confirm-manifest-local-folder-dataset"
          style="display: none; flex-direction: row; justify-content: center; margin: 10px auto"
        >
          <button
            onclick="window.generateManifestFolderLocallyForEdit(this)"
            class="btn_animated"
            style="
              border: none !important;
              border-radius: 4px;
              margin: 0.5rem auto;
              width: 110px;
              height: 35px;
              background: var(--color-light-green);
              color: #fff;
              font-size: 14px;
              font-weight: 600;
              padding-left: 7px;
            "
            data-next="Question-prepare-manifest-5"
          >
            Confirm
          </button>
          <button
            class="btn_question"
            data-next="Question-prepare-manifest-5"
            id="preview-manifest-fake-confirm-local"
            onclick="window.transitionFreeFormMode(this, 'Question-prepare-manifest-2', 'create_manifest-tab', '', 'individual-question prepare-manifest')"
            style="
              cursor: pointer;
              border-radius: 8px;
              background: #fff;
              color: var(--color-light-green);
              font-weight: 600;
              border: 1px solid var(--color-light-green);
              width: 160px;
              padding: 10px;
              display: none;
              visibility: hidden;
            "
          >
            Fake confirm
          </button>
        </div>
      </div>
    </div>
    <div class="individual-question prepare-manifest" id="Question-prepare-manifest-3">
      <div class="ui form" style="width: 100%">
        <div class="grouped fields">
          <label style="font-size: 17px; color: var(--color-bg-plum)"
            >Is this the Pennsieve dataset you want to create the manifest files for?
          </label>
          <div class="field prepare-metadata-card-field">
            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                margin-top: 15px;
                height: auto;
                box-shadow: 0px 0px 10px #d5d5d5;
                padding: 15px 25px;
                border-radius: 5px;
              "
            >
              <div style="display: flex; flex-direction: row; justify-content: space-between">
                <div class="card-container prepare-manifest prepare-metadata">
                  <div style="width: 100%">
                    <h5 class="card-left" style="text-align: left">Current account:</h5>
                    <div class="change-current-account manifest-change-current-account">
                      <h5 class="card-right bf-account-span prepare-metadata-current-account-span">
                        None
                      </h5>

                      <svg
                        class="svg-change-current-account bi bi-pencil-fill"
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        fill="#000"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"
                        />
                      </svg>
                    </div>
                  </div>
                </div>
              </div>
              <div style="display: flex; flex-direction: row; margin-bottom: 15px">
                <div class="card-container prepare-manifest prepare-metadata">
                  <div style="width: 100%">
                    <h5 class="card-left">Current workspace:</h5>
                    <div class="change-current-account ds-dd organization">
                      <h5
                        class="card-right bf-organization-span prepare-metadata-organization-span"
                        style="margin-left: 36px !important"
                      >
                        None
                      </h5>

                      <svg
                        class="svg-change-current-account organization bi bi-pencil-fill"
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        fill="#000"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"
                        />
                      </svg>
                    </div>
                  </div>
                  <div
                    class="ui active green inline loader small organization-loader"
                    style="display: none"
                  ></div>
                </div>
              </div>
              <div style="display: flex; flex-direction: row; justify-content: space-between">
                <div class="card-container prepare-manifest prepare-metadata">
                  <div style="width: 100%">
                    <h5 class="card-left" style="text-align: left">Current dataset:</h5>
                    <div class="change-current-account manifest-change-current-ds">
                      <h5
                        id="bf_dataset_create_manifest"
                        class="card-right bf-dataset-span prepare-metadata-dataset-span"
                      >
                        None
                      </h5>

                      <svg
                        class="svg-change-current-account dataset bi bi-pencil-fill"
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        fill="#000"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"
                        />
                      </svg>
                    </div>
                  </div>
                </div>
                <div class="ui active green inline loader small" style="display: none"></div>
              </div>
            </div>
            <div
              style="display: none; flex-direction: row; justify-content: center; margin: 25px auto"
              id="div-check-bf-create-manifest"
              class="btn-confirm-ds-selection"
            >
              <button
                onclick="window.generateManifestFolderLocallyForEdit(this)"
                id="btn-pull-ds-manifest"
                class="btn_animated"
                style="
                  border: none !important;
                  border-radius: 4px;
                  margin: 0.5rem auto;
                  width: 110px;
                  height: 35px;
                  background: var(--color-light-green);
                  color: #fff;
                  font-size: 14px;
                  font-weight: 600;
                  padding-left: 9px;
                "
              >
                Confirm
              </button>
              <button
                class="btn_question"
                data-next="Question-prepare-manifest-5"
                id="preview-manifest-fake-confirm-pennsieve"
                onclick="window.transitionFreeFormMode(this, 'Question-prepare-manifest-3', 'create_manifest-tab', '', 'individual-question prepare-manifest')"
                style="
                  cursor: pointer;
                  border-radius: 8px;
                  background: #fff;
                  color: var(--color-light-green);
                  font-weight: 600;
                  border: 1px solid var(--color-light-green);
                  width: 160px;
                  padding: 10px;
                  display: none;
                "
              >
                Fake confirm
              </button>
            </div>
          </div>

          <div class="field" style="margin: auto; width: 550px" id="manifest-progress-container">
            <div style="display: flex; justify-content: center; flex-direction: column">
              <div
                id="loading_pennsieve_dataset_manifest"
                class="circular"
                style="
                  align-self: center;
                  visibility: hidden;
                  margin-top: -80px;
                  margin-bottom: 20px;
                "
              >
                <div class="inner"></div>
                <div
                  class="pennsieve_loading_dataset_percentage fix"
                  id="pennsieve_loading_dataset_percentage_manifest"
                  class="number"
                >
                  0%
                </div>
                <div class="circle">
                  <div class="bar left">
                    <div
                      class="pennsieve_left-side_less_than_50 progress"
                      style="transform: rotate(0deg)"
                    ></div>
                  </div>
                  <div class="bar right">
                    <div
                      class="pennsieve_right-side_greater_than_50 progress"
                      style="transform: rotate(0deg)"
                    ></div>
                  </div>
                </div>
              </div>
              <span
                id="loading_pennsieve_dataset_manifest_span"
                style="
                  margin: auto;
                  visibility: hidden;
                  position: relative;
                  top: 55px;
                  margin-bottom: 20px;
                "
                >Importing your Pennsieve dataset...</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="individual-question prepare-manifest" id="Question-prepare-manifest-5">
      <div class="ui form" style="width: 100%">
        <div class="grouped fields" style="align-items: center">
          <label style="font-size: 17px; color: var(--color-bg-plum); margin: 10px; width: 550px">
            Preview/Edit manifest files <br />
            <p class="about-text" style="text-align: justify; margin-top: 10px">
              Click on any manifest file below to preview it or add additional metadata. SODA will
              automatically include the "filename", "timestamp", and "file type" in your manifest
              files. Any additional data from existing manifest files in the dataset will be
              imported and editable as well.
            </p>
          </label>
          <div class="field" style="margin: 0 auto; width: fit-content; margin-top: 10px">
            <div
              style="
                width: 550px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                margin-top: 15px;
                height: auto;
                box-shadow: 0px 0px 10px #d5d5d5;
                padding: 15px 25px;
                border-radius: 5px;
              "
            >
              <div id="div-dataset-tree-preview-manifest"></div>
            </div>
          </div> -->

  <!-- A continue button for moving on to generate a dataset on Pennsieve or preview it locally-->
  <!-- <div
            style="
              width: fit-content;
              display: flex;
              flex-direction: column;
              align-items: center;
              margin-top: 15px;
            "
            class="field"
            id="btn-continue-pennsieve-question-6"
          >
            <div style="display: flex; flex-direction: row; margin-top: 5px">
              <button
                style="
                  cursor: pointer;
                  border-radius: 4px;
                  margin-right: 15px;
                  background: var(--color-light-green);
                  color: #fff;
                  font-weight: 600;
                  border: none;
                  width: 160px;
                  height: 40px;
                  padding: 10px;
                  font-size: 15px;
                "
                id="show-manifest-gen-on-pennsieve-section-btn"
              >
                Continue
              </button>
            </div>
          </div>

          <div
            style="
              width: fit-content;
              display: flex;
              flex-direction: column;
              align-items: center;
              margin-top: 60px;
            "
            class="field"
            id="manifest-gen-on-pennsieve-section"
          >
            <label
              style="
                font-size: 17px;
                color: var(--color-bg-plum);
                margin: 10px;
                width: 550px;
                text-align: center;
              "
            >
              Generate manifest files <br />
              <p class="about-text" style="text-align: justify">
                Click "Generate now" to generate your manifest files directly on Pennsieve. Click
                "Preview Manifest Files Locally" to view your finalized manifest files locally
                before you upload to Pennsieve.
              </p>
            </label>

            <div style="display: flex; flex-direction: row; margin-top: 5px">
              <button
                style="
                  background: rgb(255, 255, 255);
                  color: var(--color-light-green);
                  border: 1px solid var(--color-light-green);
                  padding: 8px 10px;
                  width: 240px !important;
                  height: 38px;
                  font-size: 14px;
                  font-weight: 600;
                  margin-right: 15px;
                  border-radius: 5px;
                  width: 220px;
                "
                class="transition-btn"
                onclick="window.generateManifestPreview(this)"
                id="generate-local-preview-manifest"
              >
                Preview Manifest Files Locally
              </button>

              <button
                onclick="window.generateManifestPrecheck(true, this)"
                class="btn_question"
                id="generate_step_5-manifest"
                style="
                  cursor: pointer;
                  border-radius: 4px;
                  margin-right: 15px;
                  background: var(--color-light-green);
                  color: #fff;
                  font-weight: 600;
                  border: none;
                  width: 160px;
                  padding: 10px;
                  font-size: 15px;
                "
              >
                Generate now
              </button>
            </div>
          </div>

          A continue button for step; appears during Local manifest file generation only-->
  <!-- <div style="display: flex; justify-content: center; margin-top: 25px">
            <button
              onclick="window.transitionFreeFormMode(this, 'Question-prepare-manifest-5', 'create_manifest-tab', '', 'individual-question prepare-manifest')"
              class="btn_question"
              id="continue_step_5-manifest"
              data-next="Question-prepare-manifest-6"
              style="
                cursor: pointer;
                border-radius: 8px;
                margin-right: 15px;
                background: var(--color-light-green);
                color: #fff;
                font-weight: 600;
                border: none;
                width: 160px;
                padding: 10px;
                font-size: 14px;
              "
            >
              Continue
            </button>
          </div>
        </div>
      </div>
    </div> -->

  <!-- <div class="individual-question prepare-manifest" id="Question-prepare-manifest-6">
      <div class="ui form" style="width: 100%">
        <div class="grouped fields" style="align-items: center">
          <label style="font-size: 17px; color: var(--color-bg-plum); margin: 10px; width: 550px">
            Generate manifest files <br />
            <p class="about-text">
              SODA will generate your manifest files in your dataset directory by default. You can
              generate the manifest files in a separate location by clicking on the url below.
            </p>
          </label>

          <div class="field" style="margin: 0 auto; width: fit-content; margin-top: 10px">
            <input
              class="form-control"
              style="width: 450px !important"
              onclick="selectManifestGenerationLocation()"
              id="input-manifest-local-gen-location"
              type="text"
              readonly
              placeholder="Browse here"
            />

            <div style="display: flex; justify-content: center; margin-top: 25px">
              <button
                onclick="window.generateManifestPrecheck(true, this)"
                class="btn_question"
                style="
                  cursor: pointer;
                  border-radius: 8px;
                  margin-right: 15px;
                  background: var(--color-light-green);
                  color: #fff;
                  font-weight: 600;
                  border: none;
                  width: 160px;
                  padding: 10px;
                  font-size: 14px;
                "
                id="btn-local-manifest-gen"
              >
                Generate
              </button>
            </div>
          </div>
        </div>
      </div>
    </div> -->
  <!--END of question 6-->=
  <!-- </div> -->
  <!--END of main tabs section-->

  <div class="footer-div">
    <button type="button" class="transition-btn prev" data-section="main_tabs">
      <i class="fas fa-arrow-left" style="margin-right: 10px"></i>Return
    </button>
    <button
      onclick="window.resetManifest(true)"
      class="start-over"
      style="margin: 0; position: absolute; left: 48%; transform: translateX(-55%)"
    >
      <i class="fas fa-sync-alt" style="margin-right: 10px; font-size: inherit"></i>
      Start over
    </button>
  </div>
</section>
